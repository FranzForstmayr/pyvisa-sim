language: python

branches:
  except:
  - legacy
  - experimental

python:
  - "2.7"
  - "3.2"
  - "3.3"
  - "3.4"
  - "3.5"
  - "3.6"

install:
  - if [ $TRAVIS_PYTHON_VERSION == '3.2' ]; then pip install coverage==3.7.1; else pip install coverage; fi
  - pip install coveralls
  - pip install pytest

script:
  - pytest
  - coverage combine
  - coverage report -m

after_script:
  - coveralls --verbose
